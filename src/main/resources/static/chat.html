<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能助手 - 大模型对话</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 配置 Tailwind -->
    <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#4080FF',
            neutral: '#F5F7FA',
            dark: '#1D2129',
            light: '#FFFFFF',
            'gray-light': '#C9CDD4',
            'gray-medium': '#86909C',
            'gray-dark': '#4E5969'
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
          animation: {
            'bounce-slow': 'bounce 2s infinite',
          }
        },
      }
    }
  </script>
    <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      .bg-gradient-primary {
        background: linear-gradient(135deg, #165DFF 0%, #4080FF 100%);
      }
    }
  </style>
</head>
<body class="font-inter bg-neutral text-dark min-h-screen flex flex-col">
<!-- 顶部导航栏 -->
<header class="bg-gradient-primary text-white shadow-lg z-10">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
        <div class="flex items-center space-x-3">
            <div class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center backdrop-blur-sm">
                <i class="fa fa-robot text-xl"></i>
            </div>
            <h1 class="text-xl font-bold">智能助手</h1>
        </div>
        <div class="flex items-center space-x-4">
            <button class="w-9 h-9 rounded-full bg-white/20 flex items-center justify-center backdrop-blur-sm hover:bg-white/30 transition-all">
                <i class="fa fa-history"></i>
            </button>
            <button class="w-9 h-9 rounded-full bg-white/20 flex items-center justify-center backdrop-blur-sm hover:bg-white/30 transition-all">
                <i class="fa fa-cog"></i>
            </button>
        </div>
    </div>
</header>

<!-- 主要内容区域 -->
<main class="flex-grow flex flex-col">
    <!-- 对话历史区域 -->
    <div id="chat-container" class="flex-grow p-4 space-y-6 overflow-y-auto scrollbar-hide pb-20">
        <!-- 欢迎消息 -->
        <div class="flex flex-col items-start space-y-2">
            <div class="flex items-start space-x-3 max-w-[85%]">
                <div class="w-9 h-9 rounded-full bg-primary flex-shrink-0 flex items-center justify-center text-white">
                    <i class="fa fa-robot"></i>
                </div>
                <div class="bg-white rounded-2xl p-4 shadow-md">
                    <p class="text-gray-dark leading-relaxed">
                        你好！我是你的智能助手。有什么我可以帮助你的吗？
                    </p>
                </div>
            </div>
            <div class="text-xs text-gray-medium ml-12">
                刚刚
            </div>
        </div>

        <!-- 示例问题（初始隐藏，JS会根据交互显示） -->
        <div id="example-questions" class="flex flex-col space-y-3 px-4">
            <button class="example-btn bg-white/80 hover:bg-white border border-gray-light/30 rounded-xl py-3 px-4 text-left text-gray-dark hover:shadow-md transition-all" data-question="推荐几部最近上映的电影">
                推荐几部最近上映的电影
            </button>
            <button class="example-btn bg-white/80 hover:bg-white border border-gray-light/30 rounded-xl py-3 px-4 text-left text-gray-dark hover:shadow-md transition-all" data-question="帮我写一封求职邮件">
                帮我写一封求职邮件
            </button>
            <button class="example-btn bg-white/80 hover:bg-white border border-gray-light/30 rounded-xl py-3 px-4 text-left text-gray-dark hover:shadow-md transition-all" data-question="解释一下量子计算的基本原理">
                解释一下量子计算的基本原理
            </button>
        </div>
    </div>

    <!-- 输入区域 -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-light/30 p-4 z-10">
        <div class="container mx-auto">
            <form id="message-form" class="flex items-end space-x-3">
                <div class="flex-grow relative">
            <textarea
                    id="message-input"
                    placeholder="请输入你的问题..."
                    class="w-full pr-12 pl-4 py-3 rounded-full border border-gray-light focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all resize-none min-h-[50px] max-h-[150px]"
            ></textarea>
                    <button type="button" id="clear-btn" class="absolute right-10 top-1/2 transform -translate-y-1/2 text-gray-medium hover:text-gray-dark transition-colors opacity-0">
                        <i class="fa fa-times-circle"></i>
                    </button>
                </div>
                <div class="flex items-center space-x-2">
                    <button type="button" class="w-10 h-10 rounded-full bg-gray-light/20 flex items-center justify-center text-gray-dark hover:bg-gray-light/40 transition-all">
                        <i class="fa fa-paperclip"></i>
                    </button>
                    <button type="submit" id="send-btn" class="w-12 h-12 rounded-full bg-primary text-white flex items-center justify-center shadow-lg shadow-primary/20 hover:bg-primary/90 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
                        <i class="fa fa-paper-plane"></i>
                    </button>
                </div>
            </form>
            <div class="flex justify-between items-center mt-2 text-xs text-gray-medium">
                <div class="flex items-center space-x-4">
                    <button type="button" class="hover:text-primary transition-colors">
                        <i class="fa fa-microphone"></i>
                    </button>
                    <button type="button" class="hover:text-primary transition-colors">
                        <i class="fa fa-image"></i>
                    </button>
                </div>
                <p>智能助手可以生成错误信息，请谨慎使用</p>
            </div>
        </div>
    </div>
</main>

<!-- 底部提示栏（初始隐藏） -->
<div id="bottom-tip" class="fixed bottom-20 left-0 right-0 bg-dark/80 text-white text-sm py-2 px-4 rounded-t-lg backdrop-blur-sm transform translate-y-full transition-transform duration-300 flex justify-center items-center">
    <i class="fa fa-info-circle mr-2"></i>
    <span>正在思考中，请稍候...</span>
</div>

<!-- 脚本 -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
      const messageForm = document.getElementById('message-form');
      const messageInput = document.getElementById('message-input');
      const chatContainer = document.getElementById('chat-container');
      const sendBtn = document.getElementById('send-btn');
      const clearBtn = document.getElementById('clear-btn');
      const bottomTip = document.getElementById('bottom-tip');
      const exampleQuestions = document.getElementById('example-questions');
      const exampleBtns = document.querySelectorAll('.example-btn');

      // 自动调整输入框高度
      messageInput.addEventListener('input', function() {
        this.style.height = 'auto';
        this.style.height = (this.scrollHeight > 50 ? Math.min(this.scrollHeight, 150) : 50) + 'px';

        // 显示/隐藏清除按钮
        if (this.value.trim() !== '') {
          clearBtn.classList.replace('opacity-0', 'opacity-100');
        } else {
          clearBtn.classList.replace('opacity-100', 'opacity-0');
        }
      });

      // 清除输入框内容
      clearBtn.addEventListener('click', function() {
        messageInput.value = '';
        messageInput.style.height = '50px';
        clearBtn.classList.replace('opacity-100', 'opacity-0');
      });

      // 处理表单提交
      messageForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const message = messageInput.value.trim();
        if (message === '') return;

        // 添加用户消息到对话
        addMessageToChat(message, 'user');

        // 清空输入框
        messageInput.value = '';
        messageInput.style.height = '50px';
        clearBtn.classList.replace('opacity-100', 'opacity-0');

        // 隐藏示例问题
        exampleQuestions.classList.add('hidden');

        // 显示"正在思考"提示
        bottomTip.classList.replace('translate-y-full', 'translate-y-0');

        // 禁用发送按钮
        sendBtn.disabled = true;

        // 模拟AI回复延迟
        setTimeout(() => {
          // 隐藏提示
          bottomTip.classList.replace('translate-y-0', 'translate-y-full');

          // 启用发送按钮
          sendBtn.disabled = false;

          // 添加AI回复
          const aiResponses = [
            "这是一个很好的问题。根据最新的信息，我可以为你提供以下解答...",
            "我理解你的需求。让我为你详细解释这个问题...",
            "感谢你的提问。经过分析，我认为最佳的解决方案是...",
            "这个问题很有意思。从多个角度来看，答案可能包括..."
          ];
          const randomResponse = aiResponses[Math.floor(Math.random() * aiResponses.length)];
          addMessageToChat(randomResponse, 'ai');

        }, 1500);
      });

      // 处理示例问题点击
      exampleBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const question = this.getAttribute('data-question');
          messageInput.value = question;
          messageInput.style.height = 'auto';
          messageInput.style.height = (messageInput.scrollHeight > 50 ? Math.min(messageInput.scrollHeight, 150) : 50) + 'px';
          clearBtn.classList.replace('opacity-0', 'opacity-100');

          // 聚焦到输入框
          messageInput.focus();
        });
      });

      // 添加消息到对话容器
      function addMessageToChat(message, sender) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `flex ${sender === 'user' ? 'justify-end' : 'justify-start'} animate-fadeIn`;

        const bubbleClass = sender === 'user'
          ? 'bg-primary text-white rounded-2xl rounded-tr-none'
          : 'bg-white text-gray-dark rounded-2xl rounded-tl-none shadow-md';

        const iconClass = sender === 'user'
          ? 'fa fa-user'
          : 'fa fa-robot';

        const iconBg = sender === 'user'
          ? 'bg-gray-medium'
          : 'bg-primary';

        messageDiv.innerHTML = `
          <div class="flex flex-col items-${sender === 'user' ? 'end' : 'start'} space-y-2 max-w-[85%]">
            <div class="flex items-${sender === 'user' ? 'end' : 'start'} space-x-3 ${sender === 'user' ? 'flex-row-reverse space-x-reverse space-x-0 space-r-3' : ''}">
              <div class="w-9 h-9 rounded-full ${iconBg} flex-shrink-0 flex items-center justify-center text-white">
                <i class="${iconClass}"></i>
              </div>
              <div class="${bubbleClass} p-4">
                <p class="leading-relaxed">${message}</p>
              </div>
            </div>
            <div class="text-xs text-gray-medium ${sender === 'user' ? 'mr-12' : 'ml-12'}">
              ${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}
            </div>
          </div>
        `;

        chatContainer.appendChild(messageDiv);

        // 滚动到底部
        chatContainer.scrollTop = chatContainer.scrollHeight;

        // 添加出现动画
        setTimeout(() => {
          messageDiv.classList.add('opacity-100');
        }, 10);
      }

      // 初始化动画
      setTimeout(() => {
        exampleQuestions.classList.add('animate-fadeIn');
      }, 500);
    });
  </script>
</body>
</html>